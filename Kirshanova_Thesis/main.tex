%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Thesis
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[a4paper,twoside,table,10pt,openright]{mythesis}
%\def\thesistitle{Analysis of hard problems on lattices}

%\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{url}
\usepackage{latexsym}
\usepackage{amscd,amsmath,amsthm}
\usepackage{mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{color}
\usepackage{float}
\usepackage{longtable}
\usepackage{tikz}
\usetikzlibrary{arrows, chains, matrix, positioning, scopes, patterns, shapes, fit, decorations.pathreplacing, backgrounds}
\usepackage{mathrsfs}
\usepackage{array}

\usepackage{tabularx}
\usepackage{caption} 
\usepackage{subcaption}
\captionsetup{compatibility=false} %subcaption incompatibility error otherwise! -EK

\usepackage{algorithm}
\usepackage[noend]{algpseudocode} 
\usepackage{booktabs}

\usepackage{xspace}
\usepackage{cancel}

\usepackage{wrapfig}
\usepackage{etoolbox}
\usepackage[draft]{todonotes} 
\usepackage{multirow}

%\usepackage{lmodern}

%for the plot
\usepackage{epstopdf}
\usepackage{epsf}
%\usepackage{showkeys}
\usepackage{sidecap} %caption on side --EK

\usepackage{todonotes} 
\usepackage{bbm} %for Id-matrix

\usepackage{xfrac} %for 1/2 - fractions

\usepackage{diagbox} % diagonal cell-separation

\usepackage{emptypage} %removes numbering from empty pages


\algdef{SE}[SUBALG]{Indent}{EndIndent}{}{\algorithmicend\ }%
\algtext*{Indent}
\algtext*{EndIndent}

\usepackage{afterpage}
%\usepackage{url}

\usepackage{setspace}
\setstretch{1.15} % 1.3 for onehalfspacing

\usepackage[final]{pdfpages} %to include CV


%-- Fancy header --

\usepackage{fancyhdr}

%\pagestyle{fancy}
%
%
%
%\fancypagestyle{normal}{%
%	\fancyhf{}
%	\fancyhead[R]{} % predefined ()
%	\fancyhead[L]{\chaptername\ \thechapter. \chaptermark} % 1. sectionname
%	\fancyfoot[C]{\thepage}
%	\renewcommand{\headrulewidth}{0pt}%
%}

	
%\fancypagestyle{plain}{%
%  	\fancyhf{}%
%  	\renewcommand{\headrulewidth}{0pt}%
%}

\pagestyle{fancy}
\fancypagestyle{normal}{%
  \fancyhead{} % clear all header fields
  \fancyhead[L]{\leftmark}}
\fancypagestyle{special}{%
  \fancyhead{} % clear all header fields
  \fancyhead[L]{\rightmark}}

\renewcommand{\chaptermark}[1]{%
  \markboth{\MakeUppercase{%
  \chaptername\ \thechapter.%
  \ #1}}{}}
\renewcommand{\sectionmark}[1]{%
  \markright{{Section} \thesection.\ #1}{}}


\PassOptionsToPackage{hyphens}{url}\usepackage[%
	bookmarks,
	bookmarksdepth=2,
	breaklinks=true,
	linktocpage=false,
	colorlinks=true,
	citecolor=black,
	urlcolor=blue!75!black,
	linkcolor=red!75!black,
	pdfpagelabels=false,
]{hyperref}


%\onehalfspacing 

%\setlength{\oddsidemargin}{3in}
%\setlength{\evensidemargin}{1in}

\DeclareInstance{xfrac}{mathdefault}{math}
{
slash-right-mkern = -3mu,
denominator-bot-sep = -0.1ex,
phantom=8 %default: ( = bracket -- changing to 8 means you should not use brackets in \sfrac - expressions
} 

\newtheorem{thm}{Theorem}
\newtheorem{definition}[thm]{Definition}
\newtheorem{remark}[thm]{Remark}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{example}[thm]{Example}
\newtheorem{corollary}[thm]{Corollary}
\newtheorem{proposition}[thm]{Proposition}

\usepackage{pdflscape} % produces landscape pages

\usepackage{titlesec}

%------ To remove the numbering bug in titlesec package ------
\usepackage{etoolbox}
\makeatletter
\patchcmd{\ttlh@hang}{\parindent\z@}{\parindent\z@\leavevmode}{}{}
\patchcmd{\ttlh@hang}{\noindent}{}{}{}
\makeatother
%-------------------------------------------------------------

\titleformat*{\section}{\Large\bfseries}
\titleformat*{\subsection}{\large\itshape}

\titlespacing{\paragraph}{%
  0pt}{%              left margin
  0.5\baselineskip}{% space before (vertical)
  0.5em}%               space after (horizontal)

\setcounter{secnumdepth}{3} 

%----- For new chapters starting on odd pages ------
\newcommand\blankpage{%
	\null
	\thispagestyle{empty}%
	\addtocounter{page}{-1}%
	\newpage}


% --- -----------------------------------------------------------------
% --- Document-specific definitions.
% --- -----------------------------------------------------------------


\input{header_abbrev}


% --- -----------------------------------------------------------------
% --- The document starts here.
% --- -----------------------------------------------------------------
\pagestyle{normal}

\begin{document}

\input{TitlePage}

\hypersetup{linkcolor = black, breaklinks=true}
%\listoffigures
%\let\cleardoublepage\clearpage %was used to remove empty pages between lists of Figures/Algs/Tables
%\listoftables
%\listofalgorithms
%\hypersetup{linkcolor=red!75!black}

\thispagestyle{empty} %removes fancyhdr
\input{SecondPage}
\clearpage

\thispagestyle{empty}
\input{Eigenstandigkeitserklarung}

\chapter*{Acknowledgments}
\input{Acknowledgments}
%\clearpage

%\thispagestyle{empty}
%\input{Abstract}

\tableofcontents

\chapter*{Notations}
\input{Notations}

%--- Section Introduction
\chapter{Introduction}
\pagestyle{normal}
\input{Intro}
\label{chap:Intro}
\clearpage


%--- Section Preliminaries
\chapter{Preliminaries}
\label{chap:Prelim}
\pagestyle{normal}
\input{Preliminaries}
\clearpage

%--- Section LWE as BDD
\chapter{Learning with Errors as BDD}
\label{chap:LWEasBDD}
\pagestyle{special}
\input{LWEasBDD_Asymptotical}
\input{LWEasBDD_Practical}


%--- Section kList
\chapter{$k$-List Algorithms}
\label{chap:kList}
\pagestyle{special}
\input{kList}


\chapter*{Open Problems}
\input{OpenProblems}
\addcontentsline{toc}{chapter}{Open Problems}





% --- -----------------------------------------------------------------
% --- The Bibliography.
% --- -----------------------------------------------------------------


\def\shortbib{1}
\bibliographystyle{alpha}
\bibliography{../cryptobib/abbrev2,../cryptobib/crypto,mybib}
%\bibliography{mybib}


%--- CV
\includepdf[pages=-]{CV/CV.pdf}

\end{document}
